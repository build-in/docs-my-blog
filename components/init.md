---
outline: deep
---
![alt text](../public//img/payermaxLogo.png)

## ä¸€ã€é¡¹ç›®å¼€å‘æ­¥éª¤

### 1ã€å®‰è£…nodeï¼›

 å®‰è£…ç‰ˆæœ¬ï¼šå› ä¸ºOMCå­åº”ç”¨å¼€å‘è¾ƒæ—©ï¼Œè¿™é‡Œ``` node ```ç‰ˆæœ¬æ¨è ```10.23.1 ``` æˆ– ```10.24.1 ```ï¼›
![alt text](../public//img/init-node-download.jpg)
 nodeJSå®˜ç½‘ä¸‹è½½ï¼šhttps://nodejs.org/zh-cn/download/package-manager

 å¦‚æœå·²ç»å®‰è£…nodeï¼Œéœ€è¦åˆ‡æ¢nodeç‰ˆæœ¬ï¼Œæ¨èä½¿ç”¨```nvm ```æˆ–è€…``` n ```æ¥åˆ‡æ¢ï¼Œè¿™æ · ```node  ```ä¸ç›¸å…³ ```NPM ```ç‰ˆæœ¬ä¼šä¿æŒé€‚é…ï¼›
 ![alt text](../public//img/init-nvm.png)

- nvm åˆ‡æ¢ node ç‰ˆæœ¬ï¼š[ä¼ é€é—¨](https://nvm.uihtm.com/)

- n åˆ‡æ¢ node ç‰ˆæœ¬:

```bash
    npmÂ iÂ -gÂ n
        
    sudoÂ nÂ installÂ 10.24.1ï¼ˆ>10.20ï¼‰

    sudoÂ nÂ lsï¼ˆæŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬ï¼‰
        
    sudoÂ n versionï¼ˆåˆ‡æ¢ï¼‰
```
> ğŸ’¡ğŸ’¡ğŸ’¡ <span style="color:red; font-weight:600;">çŸ¥è¯†ç‚¹</span>
<br>
 **npmï¼ˆNode Package Managerï¼‰**
 <br>
 ```JavaScript``` çš„åŒ…ç®¡ç†å·¥å…·ï¼Œç”¨äºå®‰è£…ã€ç®¡ç†å’Œåˆ†äº«ä»£ç åŒ…ã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…è½»æ¾åœ°è·å–å’Œä½¿ç”¨å„ç§å¼€æºåº“ï¼Œè¿™äº›åº“å¯ä»¥æ˜¯ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ ```Reactã€Vue```ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨äºæœåŠ¡å™¨ç«¯å¼€å‘çš„åç«¯æ¡†æ¶ï¼ˆå¦‚ ```Express```ï¼‰ï¼Œæˆ–è€…æ˜¯å„ç§å·¥å…·åº“ï¼ˆå¦‚ ```Lodash```ï¼‰ç­‰ã€‚

### 2ã€ç”³è¯·github  é¡¹ç›®æƒé™ï¼›
1.  ç”³è¯·ä¸€ä¸ª ```gitlab ```çš„è´¦å·ï¼Œç‚¹å‡»é“¾æ¥ï¼Œè®©æˆ‘ä»¬å…ˆæ¥ç”³è¯·ä¸€ä¸ªå§ã€‚
     ğŸ‘‰  [ç”³è¯·åœ°å€](https://service.ushareit.me/#/declarationForm/T\_edit/8/sviId/66/service/551)
        
2.  ç”³è¯·gitlabè´¦å·ä¹‹åæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å‡†å¤‡å¼€é€šå¼€å‘è€…æƒé™äº†ï¼Œæ­¤å¤„åŠ æƒé™çš„æ–¹å¼æœ‰ä¸¤ç§ã€‚
    
    1.  æ‰¾åˆ°é¡¹ç›®çš„ç›¸å…³è´Ÿè´£äººå»åŠ é¡¹ç›®æƒé™ï¼Œä¸€èˆ¬æ˜¯æ‰¾è‡ªå·±çš„```Mentor ```ã€‚
        
    2.  èµ°æµç¨‹ï¼Œç›´æ¥ç”³è¯· ```web ```ç»„çš„å¼€å‘è€…æƒé™ï¼Œç”³è¯·é“¾æ¥çš„åœ°å€åœ¨é’‰é’‰-å·¥ä½œå°-æœåŠ¡ä¸­å¿ƒ-å¿«æ·æœåŠ¡ä¸­ï¼Œå¡«å†™çš„æ—¶å€™ç›´æ¥è¯´æ˜å¼€é€šwebç»„çš„å¼€å‘æƒé™ï¼Œç›´æ¥å°±æœ‰```web ```è¿™ä¸ªç»„ä¸‹é¢çš„æ‰€æœ‰ä»“åº“çš„å¼€å‘è€…æƒé™ã€‚![image.png](../public//img/init-gitlab-state.png)
        
3.  gitlabåœ°å€ï¼š[http://gitlab.payermax.inner/](http://gitlab.payermax.inner/)
### 3ã€æ‹‰å–ä»£ç ï¼›
 EPï¼šæ‹‰å–é£æ§ä»£ç 
  ![alt text](../public//img/init-pull.jpg)

### 4ã€npm login ç™»å½•npmç§æœ‰æºï¼›
1.  å¼€é€šnpmçš„ç§æœ‰æºçš„æƒé™å¯ä»¥è”ç³»åŸºç¡€æ¶æ„ç»„çš„åŒå­¦ï¼Œç„¶ååœ¨å®œæ­ä¸Š[ç”³è¯·å·¥å•](https://alag64.aliwork.com/APP_PS6QLUSO6HIBBK2QR21S/workbench/FORM-AA67094EA1C84445B958401DD559C69CQWUI)è¿›è¡Œç§æœ‰æºæƒé™çš„ç”³è¯·ï¼Œç„¶ååœ¨è‡ªå·±çš„ç”µè„‘ç»ˆç«¯Â **npmÂ login**ï¼Œç„¶åè®°å¾—è´¦å·å¯†ç è·Ÿä½ åœ¨é’‰é’‰çš„ç™»é™†çš„è´¦å·å¯†ç ä¸€æ ·ã€‚

2.  [http://gitlab.payermax.inner/-/profile/keys](http://gitlab.payermax.inner/-/profile/keys)

ç”³è¯·èµ°å®Œåï¼Œé¡¹ç›®ç™»å½•
  ![alt text](../public//img/init-login.jpg)
è¾“å…¥shareid ä¸ å¯†ç  ç™»å½•ç§æœåº“ï¼›

### 5ã€npm install;

  ç™»å½•ç§æœåº“ä»¥åï¼Œå°±å¯ä»¥å®‰è£… payermaxçš„ç›¸å…³ä¾èµ–äº†

```bash
  npm install
```

### 6ã€æ£€æŸ¥æ˜¯å¦æœ‰é—æ¼çš„æ¨¡å— npm install;

å¦‚æœnpm install åè¿˜æœ‰é—æ¼çš„æ¨¡å—è¦å®‰è£…ã€‚éœ€è¦åœ¨ ```package.json ```ä¸­è¿›è¡Œå®‰è£…ï¼›

### 7ã€npm run dll æ‰“åŒ…ä¾èµ–ï¼›

é¡¹ç›®é€šè¿‡webpacké…ç½®äº†çƒ­å¯åŠ¨ï¼Œæ‰€ä»¥éœ€è¦å…ˆè¿è¡Œæ‰“åŒ…ä¾èµ–ï¼›

```bash
 npm run dll
```

ç›¸å½“äºæ‰§è¡Œ ```package.json``` ä¸­çš„ ```scripts ```é¡¹ çš„ ```dll``` é…ç½®

```js
  "scripts": {
    "dll": "node build/buildDll.js",
  },
```

> ğŸ’¡ğŸ’¡ğŸ’¡ <span style="color:red; font-weight:600;">çŸ¥è¯†ç‚¹</span>
<br>
 **npm scripts**
 <br>
 npm scriptsæ˜¯åœ¨```package.json```æ–‡ä»¶ä¸­å®šä¹‰çš„ä¸€ç³»åˆ—è„šæœ¬å‘½ä»¤ã€‚è¿™äº›è„šæœ¬å¯ä»¥ç”¨äºæ‰§è¡Œå„ç§ä¸é¡¹ç›®ç›¸å…³çš„ä»»åŠ¡ï¼Œå¦‚å¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€æ„å»ºé¡¹ç›®ã€è¿è¡Œæµ‹è¯•ç­‰ã€‚ä¾‹å¦‚ï¼Œ```"start": "node index.js"```å°±æ˜¯ä¸€ä¸ªç®€å•çš„```npm ```è„šæœ¬ï¼Œå½“åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ```npm start```æ—¶ï¼Œå°±ä¼šè¿è¡Œ```node index.js```è¿™ä¸ªå‘½ä»¤æ¥å¯åŠ¨é¡¹ç›®ã€‚



 > ğŸ’¡ğŸ’¡ğŸ’¡ <span style="color:red; font-weight:600;">çŸ¥è¯†ç‚¹</span>
<br>
 **npm run dll**
 <br>
 å½“æ‰§è¡Œ```npm run dll```æ—¶ï¼Œé€šå¸¸æ˜¯åœ¨è°ƒç”¨ä¸€ä¸ªè‡ªå®šä¹‰çš„è„šæœ¬å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤çš„ç›®çš„æ˜¯æ„å»ºä¸€ä¸ª```dll```æ–‡ä»¶ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒå¯èƒ½ä¼šå°†é¡¹ç›®ä¸­çš„éƒ¨åˆ†ä¾èµ–ï¼ˆå¦‚ ```Reactã€Redux ç­‰å¤§å‹åº“```ï¼‰æ‰“åŒ…åˆ°ä¸€ä¸ªå•ç‹¬çš„```dll```æ–‡ä»¶ä¸­ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œåœ¨åç»­çš„é¡¹ç›®å¼€å‘æ„å»ºè¿‡ç¨‹ä¸­ï¼ˆå¦‚ä½¿ç”¨```webpack```æ„å»ºï¼‰ï¼Œå¦‚æœè¿™äº›ä¾èµ–æ²¡æœ‰å˜åŒ–ï¼Œå°±å¯ä»¥ç›´æ¥å¼•ç”¨å·²ç»æ‰“åŒ…å¥½çš„```dll```æ–‡ä»¶ï¼Œè€Œä¸éœ€è¦é‡æ–°æ‰“åŒ…è¿™äº›ä¾èµ–ï¼Œä»è€Œå¤§å¤§åŠ å¿«æ„å»ºé€Ÿåº¦ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªå¤§å‹çš„ Web åº”ç”¨å¼€å‘ä¸­ï¼Œæ¯æ¬¡æ„å»ºéƒ½éœ€è¦æ‰“åŒ…æ‰€æœ‰çš„ä¾èµ–ï¼Œè¿™ä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ã€‚é€šè¿‡ä½¿ç”¨dllæŠ€æœ¯ï¼Œå°†åƒ```lodashã€axios```ç­‰ä¸å¤ªç»å¸¸æ”¹å˜çš„åº“æ‰“åŒ…æˆ```dll```æ–‡ä»¶åï¼Œåªæœ‰å½“è¿™äº›åº“æœ¬èº«æ›´æ–°æˆ–è€…é¡¹ç›®çš„ä¸šåŠ¡ä»£ç å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰éœ€è¦é‡æ–°æ„å»ºç›¸å…³éƒ¨åˆ†ï¼Œå¦åˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨å·²æœ‰çš„```dll```æ–‡ä»¶ï¼Œæœ‰æ•ˆæé«˜äº†å¼€å‘æ•ˆç‡ã€‚

### 8ã€npm run dev; 
ä¾èµ–å®‰è£…å®Œæˆä»¥å
```bash
  npm run dev
```
å¯åŠ¨æœ¬åœ°é¡¹ç›®

ç›¸å½“äºæ‰§è¡Œ ```package.json``` ä¸­çš„ ```scripts ```é¡¹ çš„ ```dev``` é…ç½®

```js
  "scripts": {
    "dev": "cross-env BABEL_ENV=development webpack-dev-server --inline --progress --config build/webpack.dev.conf.js",
  },
```

## äºŒã€é¡¹ç›®å¼€å‘è¯´æ˜

### 1ã€æœåŠ¡ä»£ç†
  ç›®å‰æ”¯æŒä¸¤ä¸ªæœåŠ¡ ```/omc-gateway```  ä¸ ``` /pay-gate ``` ä»£ç†åˆ°æœ¬åœ°ï¼›
  å¦‚éœ€æ–°å¢æœåŠ¡é…ç½®ï¼Œåœ¨ ``` src -> config -> index.js ```ä¸­é…ç½®ï¼›

```js
    dev: {
        assetsSubDirectory: 'static',
        assetsPublicPath: '/',
        proxyTable: {
        "/omc-gateway": {
            target: host.getTarget('GATEWAY_COMMON', 'dev'),
            secure: true,
            changeOrigin: true,
            pathRewrite: {
            "^/omc-gateway": ""
            },
            logLevel: 'debug'
        },
        "/pay-gate": {
            target: host.getTarget('PAY_GATEWAY', 'dev'),
            secure: true,
            changeOrigin: true,
            pathRewrite: {
            "^/pay-gate": ""
            },
            logLevel: 'debug'
        }
        },
    }
```

### 2ã€æ— æ³•ç™»å½•æˆåŠŸ

  å¦‚æœé‡åˆ°ç™»å½•æ­»å¾ªç¯ï¼Œé…ç½®```src -> init.js ```ä¸´æ—¶å¼€å‘

```js
// 1ã€è·å– cookie
import { setCookie } from './utils/cookies';

export default function init(masterStore) {
  // 2ã€ å†™æ­»cookie
  setCookie('c3d5b352-7f4a-40c8-bb6b-a0e46f158348');
  NProgress.start();
  return new Promise((resolve, reject) => {
    if (masterStore) {
      ...xxxx
    }
  });
}
```
 ğŸ‘‰ [UPMSè®¿é—®](https://upms-dev-new.payermax.com/#/systemManagementModule/userManagement)

![alt text](../public//img/init_token_state.jpg)

> 
setCookieä¸­çš„å€¼å¯ä»¥é€šè¿‡ç™»å½•```UPS ```ï¼Œä»æ¥å£çš„ ```x-token ```è·å–ã€‚å¦‚æ—  ```UPMS ```è´¦å·ï¼Œæ‰¾æµ‹è¯•åŒå­¦ç”³è¯·ï¼›
```cookies```æœ‰è¿‡æœŸæ—¶é—´ï¼Œå¦‚æœæ—¶é—´ä¹…äº†ï¼Œéœ€è¦é‡æ–°è¿›è¡Œè·å–ï¼›



 ## ä¸‰ã€ç¼–è¾‘å™¨é…ç½®

![alt text](../public/img/init-webstrom.jpeg)

#### VScode ç¼–è¾‘å™¨æ¨èé…ç½®

- **Vue - Official**

è¯­æ³•é«˜äº®å’Œä»£ç æ ¼å¼åŒ–ï¼Œä»£ç ç‰‡æ®µå’Œè‡ªåŠ¨è¡¥å…¨

![alt text](../public/img/question-vuere.jpg)

- **HTML/CSS**

HTML/CSSè¯­æ³•æ”¯æŒï¼Œå‰ç«¯å…šå¿…å¤‡ã€‚
![alt text](../public/img/init-html-state.png)

- **Auto Close Tag**

å‰ç«¯ç¥å™¨ï¼Œåªéœ€è¦ç¼–å†™å·¦æ ‡ç­¾ï¼Œä¾‹å¦‚```<a>,<body>,<html>```ç­‰ï¼Œä¼šè‡ªåŠ¨æ›¿æˆ‘ä»¬å®Œæˆå³ä¾§æ ‡ç­¾çš„å¡«å……å¦‚ï¼š```</a>, </body>, </html>```ç­‰ã€‚
![alt text](../public/img/init-auto-tag.png)

- **Auto Rename Tag**

å‰ç«¯ç¥å™¨ï¼Œè‡ªåŠ¨ä¿®æ”¹æ ‡ç­¾åï¼Œå½“æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸ªæ ‡ç­¾æ—¶ï¼Œè‡ªåŠ¨ä¿®æ”¹å¯¹åº”çš„å³ä¾§æ ‡ç­¾ã€‚

![alt text](../public/img/init-auto-rename.png)


- **Live Serverâ€Œ**

æä¾›ä¸€ä¸ªæœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œæ”¯æŒå®æ—¶é¢„è§ˆå’Œè°ƒè¯•ç½‘é¡µåº”ç”¨ç¨‹åºï¼Œå…·æœ‰çƒ­é‡è½½åŠŸèƒ½â€Œï¼›
![alt text](../public/img/init-live-server.png)

#### Webstromç¼–è¾‘å™¨æ¨è

WebStormæä¾›äº†å¼ºå¤§çš„ä»£ç ç¼–è¾‘åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä»£ç è‡ªåŠ¨è¡¥å…¨ã€è¯­æ³•é«˜äº®ã€ä»£ç æŠ˜å ã€ä»£ç æ ¼å¼åŒ–ç­‰ï¼Œå¸®åŠ©å¼€å‘äººå‘˜ç¼–å†™é«˜æ•ˆã€è§„èŒƒçš„ä»£ç ã€‚
![alt text](../public/img/init-webstorm.png)




